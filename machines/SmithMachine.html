<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Machine — Template</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;600;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <link href="../styles.css" rel="stylesheet">
    <style>
      .container-inner {max-width:1100px;margin:88px auto 28px;padding:0 16px}
      .breadcrumbs {color:#aab4bf;font-size:13px;margin-bottom:12px}
      .grid {display:grid;grid-template-columns:1fr 320px;gap:20px;align-items:start}
      .card {background:rgba(255,255,255,0.03);padding:18px;border-radius:8px}
      .media-main {background:#0b1320;border-radius:8px;height:420px;display:flex;align-items:center;justify-content:center;overflow:hidden}
      .media-main img, .media-main video {max-width:100%;max-height:100%;display:block}
      .thumbs {display:flex;gap:8px;margin-top:10px;flex-wrap:wrap}
      .thumbs button{border:0;padding:0;background:transparent;cursor:pointer}
      .thumbs img{width:84px;height:56px;object-fit:cover;border-radius:6px}
      .ex-gallery{display:grid;grid-template-columns:repeat(2,1fr);gap:12px;margin-top:12px}
      .ex-card{display:flex;gap:10px;align-items:center;padding:10px;background:#07101a;border-radius:8px}
      .ex-card img{width:64px;height:48px;object-fit:cover;border-radius:6px}
      .meta-list{list-style:none;padding:0;margin:0;display:grid;gap:6px}
      .meta-list li{font-size:14px;color:#c9d6e1}
      .cta{margin-top:10px}
      /* Thumbnail styles (kept minimal) */
      .thumb-placeholder{min-height:0}
    </style>
</head>
<body>

    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand brand-font" href="../index.html">
                [FIT-STOP]
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon" style="filter: invert(1);"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item me-4">
                        <a class="nav-link text-white" href="../equipment.html">EQUIPMENT</a>
                    </li>
                    <li class="nav-item me-4">
                        <a class="nav-link text-white" href="../index.html#location">LOCATION</a>
                    </li>
                    <li class="nav-item me-4">
                        <a class="nav-link text-white" href="../aboutus.html">About Us</a>
                    </li>
                    <li class="nav-item">
                        <a href="#" class="btn btn-hazard">
                            <i class="fa-solid fa-lock me-2"></i> LOGIN
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

  <div class="container-inner">
    <div class="breadcrumbs"><a href="../index.html">Home</a> › <a href="../equipment.html">Equipment</a> › <a href="../machine.html">Machines</a> › Smith Machine</div>
    <h1>Smith Machine</h1>

    <div class="grid">
      <main>
        <div class="card">
          <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:8px">
            <strong>Usage Gallery</strong>
            <small style="color:#9fb1c7">Photos & videos of machine in use</small>
          </div>

          <div id="mediaMain" class="media-main">
            <img src="../images/smith-pic.jpg" alt="Main media">
          </div>

          <div class="thumbs" id="thumbs">
            <button type="button" data-src="../images/smith-pic.jpg" data-type="image" aria-label="View photo 1"><img src="../images/smith-pic.jpg" alt="Photo 1"></button>
            <button type="button" data-src="../images/Smith-Bench.mp4" data-type="video" aria-label="Play video 1"><img src="../images/smith-press-thumbnail.png" alt="Video thumbnail"></button>
          </div>

          <section style="margin-top:14px">
            <strong>Exercises You Can Do On This Machine</strong>
            <div class="ex-gallery" id="exGallery">
              <!-- Example exercise cards: replace thumbnails and links with actual media -->
              <article class="ex-card">
                <img src="../images/Fitstop.png" alt="Exercise 1">
                <div>
                  <div style="font-weight:600">Exercise Title 1</div>
                  <div style="font-size:13px;color:#9fb1c7">Primary muscle • Chest</div>
                </div>
              </article>

              <article class="ex-card">
                <img src="../images/ex-2.jpg" alt="Exercise 2">
                <div>
                  <div style="font-weight:600">Exercise Title 2</div>
                  <div style="font-size:13px;color:#9fb1c7">Primary muscle • Shoulders</div>
                </div>
              </article>

              <article class="ex-card">
                <img src="../images/ex-3.jpg" alt="Exercise 3">
                <div>
                  <div style="font-weight:600">Exercise Title 3</div>
                  <div style="font-size:13px;color:#9fb1c7">Primary muscle • Triceps</div>
                </div>
              </article>

              <article class="ex-card">
                <img src="../images/ex-4.jpg" alt="Exercise 4">
                <div>
                  <div style="font-weight:600">Exercise Title 4</div>
                  <div style="font-size:13px;color:#9fb1c7">Primary muscle • Back</div>
                </div>
              </article>
            </div>
          </section>
        </div>
      </main>

      <aside>
        <div class="card">
          <strong>Machine Details</strong>
          <ul class="meta-list" style="margin-top:10px">
            <li><strong>Equipment:</strong> Smith Machine</li>
            <li><strong>Type:</strong> Selectorized / Smith / Cable</li>
            <li><strong>Difficulty:</strong> Beginner — Advanced</li>

          </ul>

          <div class="cta">
            <button type="button" class="btn btn-outline-light" data-bs-toggle="modal" data-bs-target="#galleryModal">Open full gallery</button>
          </div>
        </div>

        <div style="height:12px"></div>
        <div class="card">
          <strong>Quick Tips</strong>
          <ol style="margin-top:8px;color:#c9d6e1;font-size:14px">
            <li>Start with light weight to learn the path.</li>
            <li>Use a spotter for heavy sets when applicable.</li>
          </ol>
        </div>
      </aside>
    </div>
  </div>

  <!-- Bootstrap gallery modal -->
    <div class="modal fade" id="galleryModal" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
        <div class="modal-content bg-dark text-light">
          <div class="modal-header border-0">
            <nav aria-label="breadcrumb" class="m-0">
              <ol class="breadcrumb m-0" style="background:transparent;padding:0">
                <li class="breadcrumb-item active" aria-current="page">Gallery</li>
              </ol>
            </nav>
            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>

          <div class="modal-body py-2 px-3">
            <!-- Grid view (5x5) using Bootstrap row-cols -->
            <div id="galleryGrid" class="row row-cols-5 g-2"></div>

            <!-- Viewer (hidden by default) -->
            <div id="galleryViewer" class="d-none d-flex flex-column align-items-center gap-3 mt-2">
              <div class="w-100 d-flex justify-content-start">
                <button id="galleryBack" type="button" class="btn btn-sm btn-secondary">Back</button>
              </div>
              <div class="w-100 d-flex justify-content-center align-items-center">
                <img id="galleryViewerImg" src="" alt="" class="img-fluid rounded" style="max-height:70vh;object-fit:contain;" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

  <footer>
        <div class="container text-center">
            <div class="d-flex justify-content-center gap-4 mb-4">
                <a href="#" class="footer-link">Privacy Policy</a>
                <a href="#" class="footer-link">Terms of Service</a>
                <a href="#" class="footer-link text-hazard">Staff Portal</a>
            </div>
            <p class="text-muted small mb-0">
                &copy; 2025 FIT-STOP FITNESS CENTER. <br>
            </p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const mediaMain = document.getElementById('mediaMain');
    const thumbs = document.getElementById('thumbs');

    // set main media (image or video)
    function setMainMedia(src, isVideo){
      const prevVideo = mediaMain.querySelector('video');
      if (prevVideo) {
        try { prevVideo.pause(); } catch(e){}
        prevVideo.removeAttribute('src');
        prevVideo.load && prevVideo.load();
      }

      mediaMain.innerHTML = '';
      if (!src) return;

      if (isVideo) {
        const v = document.createElement('video');
        v.src = src; v.controls = true; v.autoplay = true; v.playsInline = true;
        v.style.maxWidth = '100%'; v.style.maxHeight = '100%';
        mediaMain.appendChild(v);
        v.play().catch(()=>{});
      } else {
        const i = document.createElement('img');
        i.src = src; i.alt = ''; i.style.maxWidth = '100%'; i.style.maxHeight = '100%';
        mediaMain.appendChild(i);
      }
    }

    // Delegate clicks from the thumbnail container to change main media
    thumbs.addEventListener('click', e => {
      const btn = e.target.closest('button');
      if (!btn || !thumbs.contains(btn)) return;
      e.preventDefault();
      const src = btn.dataset.src;
      const type = btn.dataset.type;
      setMainMedia(src, type === 'video');
    });

    // Gallery modal elements
    const galleryModalEl = document.getElementById('galleryModal');
    const galleryGrid = document.getElementById('galleryGrid');
    const galleryViewer = document.getElementById('galleryViewer');
    const galleryViewerImg = document.getElementById('galleryViewerImg');
    const galleryBack = document.getElementById('galleryBack');

    // Build the 5x5 gallery grid showing only images (no videos), up to 25
    function buildGallery(){
      galleryGrid.innerHTML = '';
      galleryViewer.classList.add('d-none');
      galleryGrid.classList.remove('d-none');

      const buttons = Array.from(thumbs.querySelectorAll('button')).filter(b => b.dataset.type !== 'video');
      const imgs = buttons.map(b => b.dataset.src).slice(0,25);
      imgs.forEach(src => {
        const col = document.createElement('div'); col.className = 'col';
        const b = document.createElement('button'); b.type = 'button'; b.className = 'btn p-0 w-100';
        const img = document.createElement('img'); img.src = src; img.alt = ''; img.className = 'img-fluid rounded';
        b.appendChild(img);
        b.addEventListener('click', () => openViewer(src));
        col.appendChild(b);
        galleryGrid.appendChild(col);
      });

      // keep consistent grid size: add empty placeholders if fewer than 25
      const fill = 25 - imgs.length;
      for (let i=0;i<fill;i++){
        const ph = document.createElement('div'); ph.className = 'col thumb-placeholder'; galleryGrid.appendChild(ph);
      }
    }

    function openViewer(src){
      galleryViewerImg.src = src;
      galleryGrid.classList.add('d-none');
      galleryViewer.classList.remove('d-none');
    }

    galleryBack.addEventListener('click', () => {
      galleryViewerImg.src = '';
      galleryViewer.classList.add('d-none');
      galleryGrid.classList.remove('d-none');
    });

    // Wire modal events
    if (galleryModalEl) {
      galleryModalEl.addEventListener('show.bs.modal', buildGallery);
      galleryModalEl.addEventListener('hidden.bs.modal', () => {
        galleryViewerImg.src = '';
        galleryViewer.style.display = 'none';
        galleryGrid.style.display = 'grid';
      });
    }
  </script>
</body>
</html>
